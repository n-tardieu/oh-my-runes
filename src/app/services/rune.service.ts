import { Injectable } from '@angular/core';
import { D } from 'chart.js/dist/chunks/helpers.core';
import { Subject, Subscription } from 'rxjs';
import { Rune } from '../core/models/rune.model';
import { SWCalculatorTypes } from '../core/types/sw-calculator.types';
import { SWExporterTypes } from '../core/types/sw-exporter.types';
import { Wizard } from '../core/types/sw-wizard.types';
import { RunesConvertService } from './runes-convert.service';
import { WizardService } from './wizard.service';


const dataGraphG3 = [
  121.83095238095238,
  121.72619047619048,
  119.04761904761907,
  118.15476190476193,
  118.15476190476193,
  117.53095238095239,
  117.26190476190479,
  117.26190476190479,
  116.83673469387756,
  116.36904761904765,
  116.36904761904765,
  116.1139455782313,
  115.77380952380953,
  115.77380952380952,
  114.8809523809524,
  114.87619047619049,
  114.83843537414967,
  114.83333333333334,
  114.73095238095237,
  114.58333333333334,
  114.58333333333334,
  114.58333333333334,
  114.58333333333333,
  114.28571428571432,
  114.2857142857143,
  114.28571428571428,
  114.28571428571428,
  114.20068027210885,
  114.04285714285716,
  113.98809523809528,
  113.98809523809526,
  113.69047619047619,
  113.39285714285714,
  113.39285714285714,
  113.13775510204083,
  112.79761904761905,
  112.50000000000003,
  112.38095238095238,
  112.37244897959184,
  112.37244897959184,
  112.20238095238098,
  111.90476190476188,
  111.60714285714286,
  111.60714285714286,
  111.60714285714286,
  111.48809523809527,
  111.48809523809524,
  111.47857142857143,
  111.43707482993197,
  111.19047619047619,
  110.89285714285715,
  110.8857142857143,
  110.75680272108845,
  110.71428571428574,
  110.71428571428572,
  110.5952380952381,
  110.47619047619048,
  110.4166666666667,
  110.41666666666667,
  110.23809523809524,
  110.11904761904762,
  110.1190476190476,
  109.8309523809524,
  109.82142857142858,
  109.82142857142858,
  109.82142857142858,
  109.82142857142858,
  109.82142857142858,
  109.82142857142858,
  109.82142857142856,
  109.82142857142856,
  109.74523809523808,
  109.6938775510204,
  109.56632653061227,
  109.5404761904762,
  109.52380952380953,
  109.52380952380952,
  109.4387755102041,
  109.22619047619048,
  109.22619047619048,
  109.22619047619048,
  109.22619047619048,
  108.95238095238098,
  108.94523809523812,
  108.92857142857142,
  108.92857142857142,
  108.92857142857142,
  108.92857142857142,
  108.92857142857142,
  108.75850340136056,
  108.6734693877551,
  108.63809523809525,
  108.6309523809524,
  108.63095238095238,
  108.63095238095238,
  108.45238095238096,
  108.39285714285715,
  108.33333333333334,
  108.33333333333333,
  108.33333333333333,
  108.14285714285714,
  108.10000000000002,
  108.0357142857143,
  108.0357142857143,
  108.0357142857143,
  108.03571428571428,
  108.03571428571428,
  108.03571428571428,
  107.97619047619047,
  107.93809523809526,
  107.83571428571427,
  107.80952380952382,
  107.73809523809523,
  107.73809523809523,
  107.69047619047623,
  107.67857142857144,
  107.61054421768708,
  107.49761904761905,
  107.44047619047619,
  107.44047619047619,
  107.44047619047619,
  107.39047619047619,
  107.32142857142858,
  107.32142857142858,
  107.31292517006806,
  107.20476190476191,
  107.20238095238098,
  107.14285714285717,
  107.14285714285717,
  107.14285714285714,
  107.14285714285714,
  107.14285714285714,
  107.05782312925172,
  107.015306122449,
  106.99047619047619,
  106.95714285714286,
  106.84523809523812,
  106.84523809523809,
  106.84523809523809,
  106.84523809523809,
  106.76020408163265,
  106.7357142857143,
  106.71768707482994,
  106.7091836734694,
  106.66904761904765,
  106.54761904761907,
  106.54761904761905,
  106.54761904761905,
  106.54761904761905,
  106.50510204081634,
  106.46258503401363,
  106.36904761904763,
  106.29251700680274,
  106.25000000000003,
  106.25,
  106.25,
  106.25,
  106.25,
  106.25,
  106.13571428571429,
  106.12857142857143,
  105.99489795918369,
  105.95238095238098,
  105.95238095238098,
  105.95238095238095,
  105.95238095238095,
  105.95238095238095,
  105.95238095238095,
  105.95238095238093,
  105.92312925170071,
  105.89285714285714,
  105.85714285714288,
  105.79931972789116,
  105.72478991596641,
  105.71428571428574,
  105.69727891156464,
  105.69727891156462,
  105.65476190476193,
  105.65476190476191,
  105.65476190476191,
  105.61224489795917,
  105.56972789115649,
  105.56972789115649,
  105.3996598639456,
  105.3996598639456,
  105.35714285714289,
  105.35714285714286,
  105.35714285714286,
  105.35714285714286,
  105.35714285714286,
  105.35714285714286,
  105.35714285714286,
  105.35714285714286,
  105.35714285714286,
  105.30952380952382,
  105.27210884353744,
  105.11666666666667,
  105.08095238095238,
  105.05952380952381,
  105.05952380952381,
  105.05952380952381,
  105.05952380952381,
  105.05952380952381,
  105.05952380952381,
  105.05952380952381,
  104.8761904761905,
  104.82142857142858,
  104.76190476190477,
  104.76190476190477,
  104.76190476190477,
  104.76190476190477,
  104.67687074829932,
  104.63435374149661,
  104.63435374149658,
  104.58333333333334,
  104.52380952380953,
  104.49761904761905,
  104.46428571428572,
  104.46428571428572,
  104.46428571428572,
  104.46428571428572,
  104.46428571428572,
  104.46428571428572,
  104.46428571428572,
  104.40476190476191,
  104.3792517006803,
  104.3792517006803,
  104.3452380952381,
  104.31547619047623,
  104.30714285714286,
  104.27619047619048,
  104.23669467787116,
  104.22380952380954,
  104.19285714285718,
  104.16666666666667,
  104.16666666666667,
  104.16666666666667,
  104.16666666666667,
  104.16666666666667,
  104.16666666666667,
  104.16666666666666,
  104.08809523809526,
  104.0214285714286,
  103.98809523809527,
  103.98809523809527,
  103.95408163265307,
  103.92380952380952,
  103.91156462585033,
  103.86904761904762,
  103.86904761904762,
  103.86904761904762,
  103.86904761904762,
  103.86904761904762,
  103.86904761904762,
  103.7840136054422,
  103.75000000000001,
  103.75000000000001,
  103.74149659863944,
  103.73843537414966,
  103.61394557823131,
  103.59977324263039,
  103.57142857142858,
  103.57142857142858,
  103.57142857142858,
  103.57142857142858,
  103.57142857142858,
  103.57142857142858,
  103.57142857142858,
  103.57142857142858,
  103.57142857142858,
  103.57142857142858,
  103.57142857142856,
  103.43809523809526,
  103.3952380952381,
  103.34383753501402,
  103.31666666666668,
  103.30238095238099,
  103.27380952380953,
  103.27380952380953,
  103.26666666666667,
  103.22857142857144,
  103.21428571428572,
  103.21190476190478,
  103.1887755102041,
  103.14625850340136,
  103.14625850340136,
  103.0612244897959,
  103.05952380952381,
  103.03571428571429,
  103.03571428571428,
  102.97619047619048,
  102.97619047619048,
  102.97619047619048,
  102.97619047619048,
  102.97619047619048,
  102.85952380952384,
  102.8486394557823,
  102.74523809523811,
  102.67857142857144,
  102.67857142857144,
  102.67857142857144,
  102.67857142857144,
  102.67857142857144,
  102.67857142857144,
  102.67857142857144,
  102.67857142857144,
  102.67857142857144,
  102.67857142857142,
  102.55102040816327,
  102.55102040816327,
  102.51428571428572,
  102.4904761904762,
  102.44285714285715,
  102.4404761904762,
  102.41904761904763,
  102.3809523809524,
  102.3809523809524,
  102.3809523809524,
  102.3809523809524,
  102.3809523809524,
  102.3809523809524,
  102.32380952380953,
  102.29591836734696,
  102.28809523809524,
  102.25340136054422,
  102.25340136054422,
  102.25102040816327,
  102.2095238095238,
  102.12585034013605,
  102.08333333333334,
  102.08333333333334,
  102.08333333333334,
  102.08333333333334,
  102.08333333333334,
  102.08333333333334,
  102.08333333333334,
  102.08333333333334,
  102.08333333333334,
  102.08333333333334,
  102.08333333333334,
  102.08333333333334,
  102.05952380952381,
  101.96428571428572,
  101.92380952380952,
  101.87959183673469,
  101.87482993197281,
  101.82823129251703,
  101.82823129251702,
  101.7857142857143,
  101.7857142857143,
  101.7857142857143,
  101.7857142857143,
  101.7857142857143,
  101.7857142857143,
  101.7857142857143,
  101.7857142857143,
  101.78571428571428,
  101.72619047619047,
  101.65816326530613,
  101.65544217687075,
  101.60714285714285,
  101.5731292517007,
  101.48809523809526,
  101.48809523809526,
  101.48809523809526,
  101.48809523809526,
  101.48809523809523,
  101.40306122448979,
  101.36904761904763,
  101.36054421768708,
  101.31904761904764,
  101.30952380952382,
  101.27551020408163,
  101.1904761904762,
  101.1904761904762,
  101.1904761904762,
  101.1904761904762,
  101.19047619047619,
  101.19047619047619,
  101.1734693877551,
  101.1309523809524,
  101.07142857142858,
  101.06292517006803,
  100.99047619047622,
  100.89285714285717,
  100.89285714285717,
  100.89285714285717,
  100.89285714285717,
  100.89285714285717,
  100.89285714285717,
  100.89285714285714,
  100.78656462585033,
  100.66609977324264,
  100.6547619047619,
  100.61904761904763,
  100.59523809523812,
  100.59523809523812,
  100.59523809523809,
  100.59523809523809,
  100.52857142857144,
  100.47857142857144,
  100.46904761904763,
  100.42142857142859,
  100.38265306122452,
  100.34013605442178,
  100.29761904761907,
  100.29761904761907,
  100.29761904761907,
  100.29761904761905,
  100.2952380952381,
  100.25510204081634,
  100.23809523809524,
  100.17006802721089,
  100.16190476190478,
  100.12755102040816,
  100.00000000000003,
  100.00000000000003,
  100.00000000000003,
  100,
  99.93673469387755,
  99.91496598639459,
  99.91496598639458,
  99.91496598639458,
  99.91496598639455,
  99.82142857142857,
  99.76190476190477,
  99.75952380952381,
  99.74489795918369,
  99.74489795918367,
  99.70238095238096,
  99.70238095238096,
  99.70238095238096,
  99.70238095238095,
  99.61734693877551,
  99.57142857142858,
  99.40476190476191,
  99.40476190476191,
  99.40476190476191,
  99.40476190476191,
  99.40476190476191,
  99.40476190476191,
  99.40476190476191,
  99.34523809523812,
  99.34183673469389,
  99.32738095238095,
  99.31972789115649,
  99.31190476190478,
  99.27721088435374,
  99.26904761904764,
  99.22619047619048,
  99.2091836734694,
  99.16666666666669,
  99.16666666666666,
  99.14965986394559,
  99.10714285714288,
  99.10714285714288,
  99.10714285714288,
  99.10714285714288,
  99.10714285714286,
  99.10714285714286,
  99.10714285714286,
  99.10714285714286,
  99.10714285714286,
  99.10714285714286,
  98.95714285714288,
  98.92380952380954,
  98.85204081632654,
  98.81666666666668,
  98.80952380952382,
  98.80952380952381,
  98.80952380952381,
  98.80952380952381,
  98.80952380952381,
  98.72448979591837,
  98.72142857142858,
  98.69047619047619,
  98.68197278911565,
  98.65476190476193,
  98.55714285714285,
  98.55000000000001,
  98.51190476190477,
  98.51190476190477,
  98.51190476190477,
  98.51190476190477,
  98.51190476190477,
  98.51190476190477,
  98.39285714285715,
  98.39285714285715,
  98.39285714285715,
  98.38435374149662,
  98.37687074829932,
  98.33333333333334,
  98.31632653061226,
  98.27581032412968,
  98.27380952380955,
  98.25680272108845,
  98.25476190476192,
  98.22380952380955,
  98.21428571428574,
  98.21428571428572
]

const developerGoal = [
  118.15476190476193,
  117.26190476190479,
  116.1139455782313,
  114.8809523809524,
  114.73095238095237,
  113.98809523809526,
  113.69047619047619,
  113.39285714285714,
  113.13775510204083,
  112.38095238095238,
  112.37244897959184,
  111.48809523809527,
  110.4166666666667,
  110.41666666666667,
  110.11904761904762,
  109.82142857142858,
  109.82142857142858,
  109.82142857142858,
  109.56632653061227,
  109.4387755102041,
  109.22619047619048,
  109.22619047619048,
  108.94523809523812,
  108.63809523809525,
  108.45238095238096,
  108.10000000000002,
  108.0357142857143,
  108.0357142857143,
  107.80952380952382,
  107.44047619047619,
  107.14285714285717,
  107.14285714285714,
  107.14285714285714,
  107.14285714285714,
  106.76020408163265,
  106.7357142857143,
  106.54761904761905,
  106.25000000000003,
  106.25,
  106.12857142857143,
  105.95238095238098,
  105.95238095238095,
  105.89285714285714,
  105.72478991596641,
  105.71428571428574,
  105.69727891156462,
  105.65476190476191,
  105.3996598639456,
  105.35714285714286,
  105.35714285714286,
  105.35714285714286,
  105.35714285714286,
  105.08095238095238,
  105.05952380952381,
  105.05952380952381,
  105.05952380952381,
  105.05952380952381,
  104.82142857142858,
  104.76190476190477,
  104.58333333333334,
  104.49761904761905,
  104.46428571428572,
  104.46428571428572,
  104.3792517006803,
  104.31547619047623,
  104.19285714285718,
  104.16666666666667,
  104.16666666666667,
  104.08809523809526,
  103.98809523809527,
  103.95408163265307,
  103.86904761904762,
  103.86904761904762,
  103.86904761904762,
  103.75000000000001,
  103.61394557823131,
  103.57142857142858,
  103.57142857142858,
  103.57142857142858,
  103.57142857142858,
  103.3952380952381,
  103.34383753501402,
  103.27380952380953,
  103.14625850340136,
  103.14625850340136,
  102.97619047619048,
  102.85952380952384,
  102.8486394557823,
  102.67857142857144,
  102.67857142857144,
  102.67857142857144,
  102.51428571428572,
  102.44285714285715,
  102.3809523809524,
  102.3809523809524,
  102.29591836734696,
  102.28809523809524,
  102.25102040816327,
  102.08333333333334,
  102.08333333333334,
  102.08333333333334,
  102.08333333333334,
  102.08333333333334,
  101.96428571428572,
  101.87959183673469,
  101.7857142857143,
  101.7857142857143,
  101.7857142857143,
  101.7857142857143,
  101.7857142857143,
  101.78571428571428,
  101.72619047619047,
  101.65816326530613,
  101.65544217687075,
  101.60714285714285,
  101.48809523809526,
  101.31904761904764,
  101.1904761904762,
  101.06292517006803,
  100.89285714285717,
  100.89285714285717,
  100.89285714285717,
  100.6547619047619,
  100.61904761904763,
  100.59523809523812,
  100.59523809523809,
  100.59523809523809,
  100.34013605442178,
  100.29761904761907,
  100.29761904761907,
  100.29761904761907,
  100.29761904761905,
  100.17006802721089,
  100.00000000000003,
  99.76190476190477,
  99.40476190476191,
  99.40476190476191,
  99.26904761904764,
  99.16666666666669,
  99.14965986394559,
  99.10714285714288,
  99.10714285714286,
  99.10714285714286,
  98.80952380952381,
  98.80952380952381,
  98.80952380952381,
  98.72448979591837,
  98.72142857142858,
  98.68197278911565,
  98.51190476190477,
  98.51190476190477,
  98.39285714285715,
  98.38435374149662,
  98.25680272108845,
  98.22380952380955,
  98.21428571428574,
  98.21428571428572,
  98.20238095238093,
  98.08333333333333,
  97.79761904761907,
  97.67346938775509,
  97.61904761904763,
  97.61904761904762,
  97.61904761904762,
  97.32142857142858,
  97.32142857142858,
  97.08333333333336,
  97.02380952380953,
  96.7857142857143,
  96.78571428571429,
  96.72619047619048,
  96.72619047619048,
  96.72619047619048,
  96.72619047619048,
  96.72619047619048,
  96.72619047619048,
  96.68367346938777,
  96.64115646258504,
  96.45476190476191,
  96.45476190476191,
  96.30952380952382,
  96.3010204081633,
  96.25850340136056,
  96.25000000000003,
  96.1309523809524,
  96.1309523809524,
  96.13095238095238,
  96.10714285714288,
  95.99761904761907,
  95.83333333333334,
  95.83333333333334,
  95.74829931972789,
  95.5952380952381,
  95.5357142857143,
  95.5357142857143,
  95.5357142857143,
  95.23809523809526,
  95.23809523809526,
  95.23809523809524,
  95.1530612244898,
  95.10476190476193,
  95.08928571428572,
  94.82142857142858,
  94.75000000000001,
  94.69387755102042,
  94.64285714285717,
  94.61734693877553,
  94.52380952380955,
  94.34523809523812,
  94.19285714285715,
  94.1857142857143,
  94.16666666666667,
  94.10714285714286,
  94.09013605442176,
  94.09013605442176,
  94.09013605442176,
  94.04761904761905,
  94.04761904761905,
  93.96258503401363,
  93.92857142857144,
  93.75000000000001,
  93.45238095238098,
  93.45238095238098,
  93.45238095238096,
  93.45238095238096,
  93.45238095238096,
  93.45238095238096,
  93.39285714285715,
  93.36734693877553,
  93.36734693877553,
  93.3248299319728,
  93.0795918367347,
  93.03571428571429,
  92.94761904761907,
  92.85714285714289,
  92.85714285714288,
  92.85714285714288,
  92.85714285714285,
  92.85714285714285,
  92.77210884353744,
  92.67857142857142,
  92.55952380952382,
  92.55952380952382,
  92.5,
  92.42380952380952,
  92.3809523809524,
  92.32142857142858,
  92.26190476190477,
  92.26190476190477,
  92.26190476190477,
  92.26190476190477,
  92.01904761904763,
  91.99523809523812,
  91.86598639455784,
  91.83809523809525,
  91.83673469387756,
  91.66666666666669,
  91.66666666666669,
  91.66666666666669,
  91.48367346938777,
  91.40306122448982,
  91.36904761904762,
  91.35986394557825,
  91.28095238095239,
  91.15646258503402,
  91.15646258503402,
  91.0714285714286,
  91.0714285714286,
  91.0714285714286,
  91.0714285714286,
  90.94387755102042,
  90.77380952380955,
  90.77380952380952,
  90.77380952380952,
  90.72925170068028,
  90.71428571428574,
  90.71428571428574,
  90.6547619047619,
  90.61666666666667,
  90.5952380952381,
  90.57585034013607,
  90.56122448979592,
  90.53996598639456,
  90.47619047619048,
  90.46592775041053,
  90.35714285714286,
  90.17857142857146,
  90.17857142857143,
  90.17857142857142,
  90.01428571428572,
  90.00204081632654,
  89.88095238095241,
  89.85969387755102,
  89.73214285714288,
  89.61904761904763,
  89.58809523809525,
  89.58333333333334,
  89.58333333333334,
  89.41526610644259,
  89.31904761904762,
  89.28571428571429,
  89.22857142857143,
  89.20714285714287,
  89.13690476190476,
  89.10714285714286,
  89.04285714285716,
  88.98809523809527,
  88.98809523809524,
  88.86904761904762,
  88.86054421768709,
  88.85000000000001,
  88.75,
  88.73299319727892,
  88.6904761904762,
  88.6904761904762,
  88.63095238095238,
  88.57142857142858,
  88.39285714285717,
  88.39285714285717,
  88.39285714285715,
  88.3078231292517,
  88.24404761904762,
  88.22857142857144,
  88.18027210884355,
  88.09523809523809,
  87.96904761904763,
  87.86764705882354,
  87.81887755102042,
  87.79761904761905,
  87.73809523809526,
  87.6700680272109,
  87.55952380952382,
  87.50000000000001,
  87.5,
  87.20238095238095,
  87.05357142857143,
  86.96428571428572,
  86.96428571428572,
  86.90238095238097,
  86.81972789115646,
  86.4795918367347,
  86.07142857142858,
  86.01190476190477,
  86.01190476190477,
  85.975,
  85.94387755102042,
  85.71428571428572,
  85.71428571428572,
  85.61424569827933,
  85.51666666666667,
  85.29761904761905,
  85.26785714285715,
  85.1890756302521,
  85.14030612244899,
  85.11904761904762,
  85.11904761904762,
  84.9702380952381,
  84.9702380952381,
  84.89145658263307,
  84.89145658263307,
  84.88520408163266,
  84.84047619047618,
  84.83571428571429,
  84.77240896358545,
  84.71190476190476,
  84.67261904761905,
  84.64285714285715,
  84.59383753501402,
  84.59166666666668,
  84.58758503401363,
  84.51354679802957,
  84.4387755102041,
  84.29621848739497,
  84.2464285714286,
  84.16016406562626,
  84.13265306122449,
  84.07738095238096,
  84.04111644657863,
  83.99234693877553,
  83.92857142857144,
  83.92857142857142,
  83.843537414966,
  83.80102040816327,
  83.74166666666669,
  83.68690476190477,
  83.5246598639456,
  83.46173469387756,
  83.33333333333334,
  83.31547619047619,
  83.18452380952382,
  83.18452380952381,
  83.05697278911566,
  82.96785714285716,
  82.91666666666667,
  82.88690476190477,
  82.88690476190477,
  82.7593537414966,
  82.63180272108845,
  82.61904761904762,
  82.61054421768709,
  82.58928571428572,
  82.45098039215686,
  82.37670068027212,
  82.29166666666667,
  82.29166666666666,
  82.10317460317462,
  81.99404761904762,
  81.99404761904762,
  81.9152661064426,
  81.76303854875285,
  81.70187074829933,
  81.6964285714286,
  81.69642857142858,
  81.61764705882355,
  81.54761904761907,
  81.32002801120449,
  81.10119047619048,
  81.10119047619048,
  81.10119047619048,
  80.87619047619049,
  80.84608843537417,
  80.82683073229293,
  80.72478991596641,
  80.67602040816327,
  80.51303854875283,
  80.5059523809524,
  80.5059523809524,
  80.42717086834735,
  80.42717086834735,
  80.37840136054423,
  80.32738095238096,
  80.2297052154195,
  80.21796856673704,
  80.20833333333333,
  80.15306122448979,
  80.1295518207283,
  80.03690476190476,
  79.95215419501136,
  79.9107142857143,
  79.87738095238097,
  79.83452380952382,
  79.53431372549021,
  79.5280612244898,
  79.46428571428571,
  79.33214285714286,
  79.3154761904762,
  79.28809523809525,
  79.2,
  78.99859943977592,
  78.96541950113378,
  78.84778911564626,
  78.82002801120449,
  78.76173469387754,
  78.72023809523809,
  78.72023809523809,
  78.72023809523809,
  78.64145658263307,
  78.63520408163266,
  78.50340136054422,
  78.47138855542218,
  78.42261904761907,
  78.16751700680273,
  78.07738095238095,
  77.5765306122449,
  77.52976190476191,
  77.50935374149661,
  77.38095238095238,
  77.30238095238096,
  77.23214285714286,
  77.15419501133786,
  77.15336134453781,
  76.79523809523812,
  76.54111644657864,
  76.42091836734694,
  76.41615646258504,
  76.1904761904762,
  76.04166666666667,
  75.98463523340371,
  75.93452380952381,
  75.91830870279146,
  75.71428571428571,
  75.44417767106843,
  75.28922902494331,
  75.1545918367347,
  75.00357142857142,
  75.00200080032013,
  74.94404761904762,
  74.85119047619048,
  74.73639455782313,
  74.47478991596641,
  74.17717086834735,
  73.9654195011338,
  73.91309523809525,
  73.85000000000001,
  73.82002801120449,
  73.60827664399093,
  73.57545155993434,
  73.36309523809526,
  73.3154761904762,
  73.19404761904764,
  73.10799319727892,
  73.1059523809524,
  73.0981292517007,
  72.98669467787114,
  72.76785714285715,
  72.76785714285715,
  72.7154195011338,
  72.53452380952383,
  72.34268707482994,
  72.08758503401361,
  71.87500000000001,
  71.87500000000001,
  71.87500000000001,
  71.7249433106576,
  71.57738095238096,
  71.27976190476191,
  70.93928571428572,
  70.82482993197279,
  70.58452380952382,
  70.45697278911565,
  70.20119047619048,
  68.77125850340137,
  68.30357142857144,
  67.29166666666667,
  67.00419501133787,
  66.88622448979592,
  62.522562358276645,
  53.413095238095245,
  50.27261904761905,
  45.98214285714287,
  44.79166666666667,
  43.28781512605042,
  42.580782312925166,
  41.85924369747899,
  41.76201814058957,
  41.56162464985995,
  41.285544217687075,
  41.20448179271709,
  41.08543417366947,
  40.68452380952381,
  40.46201814058957,
  40.327380952380956,
  39.69087635054022,
  39.569160997732425,
  39.46201814058957,
  39.43452380952381,
  39.1390306122449,
  38.97392290249434,
  38.749120337790295,
  38.192857142857136,
  38.03271308523409,
  37.94642857142858,
  37.90249433106577,
  37.65589569160998,
  37.48928571428572,
  37.485827664399096,
  37.4702380952381,
  37.194047619047616,
  37.18820861678005,
  36.99404761904761,
  36.977380952380955,
  36.85119047619048,
  36.798469387755105,
  36.7984693877551,
  35.957256235827664,
  35.57942176870748,
  35.267857142857146,
  35.14030612244898,
  34.81439909297052,
  34.747732426303855,
  34.716386554621856,
  34.119897959183675,
  33.82936507936508,
  33.82352941176471,
  33.02154195011338,
  32.10317460317461,
  31.74019607843137,
  31.071541950113385,
  30.42091836734694,
  29.59733893557423,
  29.017857142857146,
  28.557256235827666,
  27.66439909297052,
  27.45535714285714,
  27.409297052154198,
  27.3875850340136,
  27.232142857142854,
  27.167487684729064,
  26.77154195011338,
  25.023342670401494,
  24.80725623582767,
  24.772408963585434,
  24.450113378684808,
  24.007936507936513,
  22.346059113300495,
  3.9390756302521006
]

@Injectable({
  providedIn: 'root'
})
export class RuneService {

  runesSubject$ = new Subject<Rune[]>()
  private runesList: Rune[] = []

  emitRunesSubject() {
    console.log("Runes has emit !");
    this.runesSubject$.next(this.runesList.slice())
  }

  setRunes(runes: Rune[]) {
    this.runesList = runes
    this.emitRunesSubject()
  }
  getRunes() {
    return this.runesList
  }

  getRunesForChartJS(runeNb: number) {
    // TODO not actual
    const dataNow: number[] = []
    const dataDev: number[] = []
    const dataC1: number[] = []
    const dataG1: number[] = []

    // TODO not legendary
    const dataMax: number[] = []
    const labels: string[] = []

    const runes = this.getRunes().filter(r => r.setType == SWExporterTypes.SetType.VIOLENT || r.setType == SWExporterTypes.SetType.WILL).sort((rune_a: Rune, rune_b: Rune) => {
      if (rune_a.efficiency >= rune_b.efficiency) return -1
      return 1
    }).slice(0, runeNb)

    const runesMaxEfficiency = this.getRunes().filter(r => r.setType == SWExporterTypes.SetType.VIOLENT || r.setType == SWExporterTypes.SetType.WILL).sort((rune_a: Rune, rune_b: Rune) => {
      if (rune_a.maxEfficiency >= rune_b.maxEfficiency) return -1
      return 1
    }).slice(0, runeNb)


    runesMaxEfficiency.forEach((r) => {
      dataMax.push(r.maxEfficiency)
    })

    runes.forEach((r, index) => {
      dataNow.push(r.efficiency)
      dataDev.push(developerGoal[index])
      dataG1.push(dataGraphG3[index] - 3 - (index * 0.01))
      if (index % 1 == 0) labels.push('Runes : ' + index.toString())
    })


    const modelChart = {
      labels: labels,
      datasets: [
        {
          label: "Now",
          data: dataNow,
          fill: false,
          borderColor: 'rgb(75, 192, 192)',
          tension: 0.1
        },
        // {
        //   label: "Legendary",
        //   data: dataMax,
        //   fill: false,
        //   borderColor: 'orange',
        //   tension: 0.1
        // },
        {
          label: "G1",
          data: developerGoal,
          fill: false,
          borderColor: 'grey',
          tension: 0.1
        },
        // {
        //   label: "G3",
        //   data: dataG1,
        //   fill: false,
        //   borderColor: 'red',
        //   tension: 0.1
        // },
      ]
    }


    return modelChart
  }

}
